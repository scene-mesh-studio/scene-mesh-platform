## 

| 序号 | 需求类型 | 需求名称             | 需求描述                                                     | 待讨论                                    | 状态 |
| ---- | :------- | -------------------- | ------------------------------------------------------------ | ----------------------------------------- | ---- |
| 1    | 功能     | 产品协议支持         | 产品配置需要加产品支持的协议配置，比如一个产品支持 MQTT和 WS 多种协议，也可能只支持一种协议 | 配置端                                    |      |
| 2    | 功能     | 产品密钥生成支持     | 产品密钥给到terminal连接时使用。terminal 连接服务时需要带着产品密钥，同一product下的若干 terminal 使用同一密钥。 | 配置端                                    |      |
| 3    | api      | 产品查询             | 根据 ID 查询产品完整信息                                     | 配置端                                    |      |
| 4    | 功能     | 终端model            | 新增产品下终端列表                                           | 计算端提供 api                            | 1    |
| 5    | api      | 产品终端绑定         | Terminal认证连接后，需要在product 下进行绑定：终端对象存储 -> 产品绑定终端 | 计算端自主完成绑定                        | 1    |
| 6    | api      | 终端状态更新         | terminal 丢失连接或关闭连接需要更新 terminal 状态            | 计算端自助完成                            | 1    |
| 7    | api      | 查询event 模型       | 根据 ID 查询 event 模型                                      | 配置端                                    |      |
| 8    | api      | 查询所有可用场景     | 用来加载所有场景的 when 条件                                 | then 具备 ID，通过场景ID+发布时间作为校验 |      |
| 9    | api      | 根据场景 ID 查询场景 |                                                              | 配置端                                    |      |
| 10   | api      | 根据 when 查询 then  | 当 when 匹配到之后，需要加载对应的 then 进行处理。           | 不需要                                    |      |
| 11   | api      | 查询所有的 action    | 不限制产品和场景隔离，查询全量可用 action                    | 配置端                                    |      |
| 12   | api      | 查询所有 mcp server  | 查询全量可用 mcp server                                      | 配置端                                    |      |
| 13   | 功能     | 大模型配置调整       | 应该内部封装好可用的大模型，模型接入还是有一定的工作量当现有框架没有提供直接集成能力的时候 | 计算端集成通用的模型能力                  |      |

遗留：mcp server 的设置